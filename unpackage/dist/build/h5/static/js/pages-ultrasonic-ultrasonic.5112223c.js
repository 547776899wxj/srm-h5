(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ultrasonic-ultrasonic"],{"05dd":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".pr-15[data-v-cd89becc]{padding-right:15px}.pl-15[data-v-cd89becc]{padding-left:15px}uni-page-body[data-v-cd89becc]{height:100%}.uni-form-item.uni-form-btn[data-v-cd89becc]{padding:0}.radio-group[data-v-cd89becc]{width:341px;display:-webkit-box;display:-webkit-flex;display:flex}.radio[data-v-cd89becc]{-webkit-transform:scale(2);transform:scale(2);width:48px;height:48px;margin-right:30px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-left:30px}.uni-list-cell[data-v-cd89becc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.chooseBtn[data-v-cd89becc]{font-size:30px;width:438px}.header[data-v-cd89becc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:118px}.room[data-v-cd89becc]{width:540px;margin-left:59px}.content[data-v-cd89becc]{position:relative;height:100%}.bg[data-v-cd89becc]{position:absolute;height:1080px;width:1920px;z-index:-1}.header-time[data-v-cd89becc]{display:-webkit-box;display:-webkit-flex;display:flex;position:absolute;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;right:45px;padding-top:15px;top:0}.header-title[data-v-cd89becc]{color:#fdfa07;font-size:63px;font-weight:800;letter-spacing:12px}.header-time uni-view[data-v-cd89becc]{font-size:35px;color:#000;letter-spacing:5px}.info[data-v-cd89becc]{padding-left:35px;padding-right:35px}.info-patient[data-v-cd89becc]{display:-webkit-box;display:-webkit-flex;display:flex;height:128px}.name[data-v-cd89becc]{width:682px;margin-left:261px}.info-patient uni-view[data-v-cd89becc]{font-size:60px;color:#374f8d;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popup-btn[data-v-cd89becc]{font-size:30px;color:#fff;padding-left:40px;padding-right:40px;background-color:#4472c4;margin-left:40px;margin-right:40px}.popup[data-v-cd89becc]{background-color:#fff;width:600px;font-size:40px;z-index:100}.popup-header[data-v-cd89becc]{background-color:#4472c4;text-align:center;padding:10px 0}.uni-form-item[data-v-cd89becc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:40px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.popup-title[data-v-cd89becc]{font-size:30px}.uni-input[data-v-cd89becc]{font-size:25px;border:1px solid;padding:20px 30px}",""]),e.exports=t},"06c5":function(e,t,i){"use strict";i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(i("6b75"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e){if("string"===typeof e)return(0,n.default)(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,n.default)(e,t):void 0}}},"6b75":function(e,t,i){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"834e":function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("b85c")),o=(n(i("c0bd")),{data:function(){return{dateText:{year:"",month:"",date:"",day:"",time:""},title:"",weekday:[],data:[],cliniqueCode:"",iType:"",popupShow:!1,seqNumber:"",screenNumber:"",playSound:!1,voiceDataInit:[],voiceData:[],test:"测试",testNubmer:0,reload:!1}},onLoad:function(){this.iType=uni.getStorageSync("iType")||"",this.screenNumber=uni.getStorageSync("screenNumber")||"",this.title=uni.getStorageSync("title")||"",this.playSound=uni.getStorageSync("playSound")||!1;new Date;this.weekday=new Array(7),this.weekday[0]="星期日",this.weekday[1]="星期一",this.weekday[2]="星期二",this.weekday[3]="星期三",this.weekday[4]="星期四",this.weekday[5]="星期五",this.weekday[6]="星期六",this.iType&&this.screenNumber&&this.init()},methods:{navTo:function(){uni.setStorageSync("pageSetBoolean",!1),uni.redirectTo({url:"../index/index"})},newDate:function(e){var t=new Date(e);this.dateText={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:this.weekday[t.getDay()],time:t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}},open:function(){this.$refs.popup.open(),this.popupShow=!0},close:function(){this.$refs.popup.close(),this.popupShow=!1,this.iType&&this.screenNumber&&this.init()},confirm:function(){""!==this.iType?(uni.showLoading({title:"加载中"}),uni.setStorageSync("iType",this.iType),uni.setStorageSync("playSound",this.playSound),uni.setStorageSync("screenNumber",this.screenNumber),uni.setStorageSync("title",this.title),this.popupShow=!1,this.init(),this.$refs.popup.close(),uni.hideLoading()):uni.showToast({title:"请输入科室",icon:"none"})},init:function(){var e=this;if(this.popupShow)return!1;uni.request({url:"http://129.1.20.21:8019/Queue/CS_Get_Queue",data:{lb:this.iType,room_name_type:this.screenNumber},success:function(t){var i=t.data.Data;"true"==t.data.reload&&e.reload!=t.data.reload&&e.$tui.webView.postMessage({data:{reload:t.data.reload}}),e.reload=t.data.reload;var n=[],a=[];e.newDate(t.data.ServiceTime),i.forEach((function(t,i){var o=e.$util.hideName(t.patientname),c={room:t.room_name,number:t.patientcode||"",name:o};if(a=a.concat(c),o&&e.playSound){var s=e.chineseNumeral(c.number+"")||"";s=s?s+"号,":"";var r="请,".concat(s).concat(t.patientname,"到,").concat(c.room,",检查");0==e.data.length?(e.voiceData.push(r),e.voiceDataInit.push(r)):n=n.concat(r)}})),e.data=a,e.playSound?(n.length>0&&(e.voiceData=e.$util.findDifferentElements(n,e.voiceDataInit),e.voiceDataInit=n),e.voiceData.length>0?e.voiceQueue():setTimeout((function(){e.init()}),5e3)):setTimeout((function(){e.init()}),5e3)},fail:function(t){uni.showToast({title:"请求失败",icon:"none"}),setTimeout((function(){e.init()}),5e3)}})},voiceQueue:function(){var e=this;if(console.log(this.voiceData[0]),this.voiceData.length>1)this.onDone(this.voiceData[1]);else{var t=4300;this.voiceData[0].length>12&&(t+=300*(this.voiceData[0].length-12)),setTimeout((function(){e.init()}),t)}},onDone:function(e){var t=this,i=4300;e.length>12&&(i+=300*(e.length-12)),setTimeout((function(){t.voiceData.shift(),t.voiceData.length>0?t.voiceQueue():setTimeout((function(){t.init()}),5e3)}),i)},chineseNumeral:function(e){var t,i="",n=(0,a.default)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;switch(o){case"0":i+="零";break;case"1":i+="一";break;case"2":i+="二";break;case"3":i+="三";break;case"4":i+="四";break;case"5":i+="五";break;case"6":i+="六";break;case"7":i+="七";break;case"8":i+="八";break;case"9":i+="九";break;default:i+=o}}}catch(c){n.e(c)}finally{n.f()}return i},radioChange:function(e){"true"==e.target.value?this.playSound=!0:this.playSound=!1,uni.setStorageSync("playSound",this.playSound)}}});t.default=o},ad20:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var n={uniPopup:i("c0bd").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content",on:{longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.open.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.open.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"bg",attrs:{src:"/static/ultrasonic.jpg"}}),i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"header-time"},[i("v-uni-view",[i("v-uni-text",[e._v(e._s(e.dateText.year)+"年"+e._s(e.dateText.month)+"月"+e._s(e.dateText.date)+"日")])],1),i("v-uni-view",[i("v-uni-text",{staticClass:"pr-15"},[e._v(e._s(e.dateText.day))]),i("v-uni-text",[e._v(e._s(e.dateText.time))])],1)],1)],1),i("v-uni-view",{staticClass:"info"},e._l(e.data,(function(t,n){return i("v-uni-view",{key:n,staticClass:"info-patient"},[i("v-uni-view",{staticClass:"name"},[t.number?i("v-uni-text",{staticClass:"pr-15"},[e._v(e._s(t.number)+"号")]):e._e(),i("v-uni-text",{staticClass:"pl-15"},[e._v(e._s(t.name))])],1),i("v-uni-view",{staticClass:"room"},[e._v(e._s(t.room))])],1)})),1),i("uni-popup",{ref:"popup",attrs:{type:"center",maskClick:!1}},[i("v-uni-view",{staticClass:"popup"},[i("v-uni-view",{staticClass:"popup-header"},[e._v("设置")]),i("v-uni-view",[i("v-uni-view",{staticClass:"uni-form-item "},[i("v-uni-view",{staticClass:"popup-title"},[e._v("科室：")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"请输入科室"},model:{value:e.iType,callback:function(t){e.iType=t},expression:"iType"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-form-btn"},[i("v-uni-view",{staticClass:"popup-title"},[e._v("屏幕：")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"第一个屏幕输入:1"},model:{value:e.screenNumber,callback:function(t){e.screenNumber=t},expression:"screenNumber"}})],1),i("v-uni-view",{staticClass:"uni-form-item "},[i("v-uni-view",{staticClass:"popup-title"},[e._v("声音：")]),i("v-uni-radio-group",{staticClass:"radio-group",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},[i("v-uni-label",{staticClass:"uni-list-cell uni-list-cell-pd"},[i("v-uni-view",[i("v-uni-radio",{staticClass:"radio",attrs:{value:"false",checked:0==e.playSound}})],1),i("v-uni-view",{staticClass:"popup-title"},[e._v("无")])],1),i("v-uni-label",{staticClass:"uni-list-cell uni-list-cell-pd"},[i("v-uni-view",[i("v-uni-radio",{staticClass:"radio",attrs:{value:"true",checked:1==e.playSound}})],1),i("v-uni-view",{staticClass:"popup-title"},[e._v("有")])],1)],1)],1),i("v-uni-view",{staticClass:"uni-form-item uni-form-btn"},[i("v-uni-button",{staticClass:"chooseBtn",attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navTo()}}},[e._v("选择页面")])],1),i("v-uni-view",{staticClass:"uni-form-item "},[i("v-uni-button",{staticClass:"popup-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("取消")]),i("v-uni-button",{staticClass:"popup-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1)],1)],1)},o=[]},b85c:function(e,t,i){"use strict";i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(i("06c5"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=(0,n.default)(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,r=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){r=!0,c=e},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(r)throw c}}}}},cfeb:function(e,t,i){"use strict";i.r(t);var n=i("834e"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},d44b:function(e,t,i){"use strict";i.r(t);var n=i("ad20"),a=i("cfeb");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("df7d");var c,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"cd89becc",null,!1,n["a"],c);t["default"]=r.exports},df34:function(e,t,i){var n=i("05dd");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("ac23bd00",n,!0,{sourceMap:!1,shadowMode:!1})},df7d:function(e,t,i){"use strict";var n=i("df34"),a=i.n(n);a.a}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-clinic-clinic"],{"06c5":function(t,e,i){"use strict";i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=a(i("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(t){if("string"===typeof t)return(0,n.default)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,n.default)(t,e):void 0}}},1949:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniPopup:i("c0bd").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content",on:{longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"bg",attrs:{src:"/static/clinic.png"}}),i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"header-title"},[t._v(t._s(t.title))]),i("v-uni-view",{staticClass:"header-time"},[i("v-uni-view",[i("v-uni-text",[t._v(t._s(t.dateText.year)+"年"+t._s(t.dateText.month)+"月"+t._s(t.dateText.date)+"日")])],1),i("v-uni-view",[i("v-uni-text",{staticClass:"pr-15"},[t._v(t._s(t.dateText.day))]),i("v-uni-text",[t._v(t._s(t.dateText.time))])],1)],1)],1),i("v-uni-view",{staticClass:"info"},t._l(t.data,(function(e,n){return i("v-uni-view",{key:n,staticClass:"info-patient"},[i("v-uni-view",{staticClass:"room"},[t._v(t._s(e.room))]),i("v-uni-view",{staticClass:"doctor"},[t._v(t._s(e.doctor))]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.seeing.number,expression:"item.seeing.number"}],staticClass:"seeing"},[i("v-uni-text",{staticClass:"pr-15"},[t._v(t._s(e.seeing.number)+"号")]),i("v-uni-text",{staticClass:"pl-15"},[t._v(t._s(e.seeing.name))])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.wait.number,expression:"item.wait.number"}],staticClass:"seeing"},[i("v-uni-text",{staticClass:"pr-15"},[t._v(t._s(e.wait.number)+"号")]),i("v-uni-text",{staticClass:"pl-15"},[t._v(t._s(e.wait.name))])],1)],1)})),1),i("uni-popup",{ref:"popup",attrs:{type:"center",maskClick:!1}},[i("v-uni-view",{staticClass:"popup"},[i("v-uni-view",{staticClass:"popup-header"},[t._v("设置")]),i("v-uni-view",[i("v-uni-view",{staticClass:"uni-form-item "},[i("v-uni-view",{staticClass:"popup-title"},[t._v("诊室：")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"请输入诊室"},model:{value:t.iType,callback:function(e){t.iType=e},expression:"iType"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-form-btn"},[i("v-uni-button",{staticClass:"chooseBtn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo()}}},[t._v("选择页面")])],1),i("v-uni-view",{staticClass:"uni-form-item "},[i("v-uni-button",{staticClass:"popup-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"popup-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)],1)},o=[]},"1d2b":function(t,e,i){"use strict";i.r(e);var n=i("dd9f"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"297f":function(t,e,i){"use strict";var n=i("70af"),a=i.n(n);a.a},"6b75":function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"70af":function(t,e,i){var n=i("a0df");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("7ae3d0ea",n,!0,{sourceMap:!1,shadowMode:!1})},a0df:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".pr-15[data-v-0c2b2178]{padding-right:15px}.pl-15[data-v-0c2b2178]{padding-left:15px}uni-page-body[data-v-0c2b2178]{height:100%}.uni-form-item.uni-form-btn[data-v-0c2b2178]{padding:0}.chooseBtn[data-v-0c2b2178]{font-size:30px;width:438px}.header[data-v-0c2b2178]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:118px}.room[data-v-0c2b2178]{width:330px}.doctor[data-v-0c2b2178]{width:460px}.seeing[data-v-0c2b2178]{width:528px}.content[data-v-0c2b2178]{position:relative;height:100%}.bg[data-v-0c2b2178]{position:absolute;height:1080px;width:1920px;z-index:-1}.header-time[data-v-0c2b2178]{display:-webkit-box;display:-webkit-flex;display:flex;position:absolute;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;right:45px;padding-top:15px;top:0}.header-title[data-v-0c2b2178]{color:#fdfa07;font-size:63px;font-weight:800;letter-spacing:12px}.header-time uni-view[data-v-0c2b2178]{font-size:35px;color:#000;letter-spacing:5px}.info[data-v-0c2b2178]{padding-top:121px;padding-left:35px;padding-right:35px}.info-patient[data-v-0c2b2178]{display:-webkit-box;display:-webkit-flex;display:flex;height:200px}.info-patient uni-view[data-v-0c2b2178]{font-size:62px;font-weight:700;color:#000;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popup-btn[data-v-0c2b2178]{font-size:30px;color:#fff;padding-left:40px;padding-right:40px;background-color:#4472c4;margin-left:40px;margin-right:40px}.popup[data-v-0c2b2178]{background-color:#fff;width:600px;font-size:40px;z-index:100}.popup-header[data-v-0c2b2178]{background-color:#4472c4;text-align:center;padding:10px 0\n}.uni-form-item[data-v-0c2b2178]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:40px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.popup-title[data-v-0c2b2178]{font-size:30px}.uni-input[data-v-0c2b2178]{font-size:25px;border:1px solid;padding:20px 30px}",""]),t.exports=e},b85c:function(t,e,i){"use strict";i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=a(i("06c5"));function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=(0,n.default)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return c=t.done,t},e:function(t){r=!0,s=t},f:function(){try{c||null==i["return"]||i["return"]()}finally{if(r)throw s}}}}},bc1c:function(t,e,i){"use strict";i.r(e);var n=i("1949"),a=i("1d2b");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("297f");var s,c=i("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"0c2b2178",null,!1,n["a"],s);e["default"]=r.exports},dd9f:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("b85c")),o=(n(i("c0bd")),{data:function(){return{dateText:{year:"",month:"",date:"",day:"",time:""},title:"",weekday:[],data:[],cliniqueCode:"",iType:"",popupShow:!1,seqNumber:"",voiceData:[],test:"测试",testNubmer:0,voiceDataInit:[],reload:!1}},onLoad:function(){this.iType=uni.getStorageSync("iType")||"";new Date;this.weekday=new Array(7),this.weekday[0]="星期日",this.weekday[1]="星期一",this.weekday[2]="星期二",this.weekday[3]="星期三",this.weekday[4]="星期四",this.weekday[5]="星期五",this.weekday[6]="星期六",this.iType&&this.init()},methods:{navTo:function(){uni.setStorageSync("pageSetBoolean",!1),this.popupShow=!0,uni.redirectTo({url:"../index/index"})},newDate:function(t){var e=new Date(t);this.dateText={year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),day:this.weekday[e.getDay()],time:e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())}},open:function(){this.$refs.popup.open(),this.popupShow=!0},close:function(){this.$refs.popup.close(),this.popupShow=!1,this.iType&&this.init()},confirm:function(){""!==this.iType?(uni.showLoading({title:"加载中"}),uni.setStorageSync("iType",this.iType),this.popupShow=!1,this.data=[],this.init(),this.$refs.popup.close(),uni.hideLoading()):uni.showToast({title:"请输入诊室",icon:"none"})},init:function(){var t=this;if(this.popupShow)return!1;uni.request({url:"http://129.1.20.21:8019/Queue/Suwen_Get_Queue",data:{clinique_code:this.iType},success:function(e){var i=e.data.Data;"true"==e.data.reload&&t.reload!=e.data.reload&&t.$tui.webView.postMessage({data:{reload:e.data.reload}}),t.reload=e.data.reload;var n=[];t.newDate(e.data.ServiceTime);var a=[];i.length>0&&t.title!=i[0].DEPT_NAME&&(t.title=i[0].DEPT_NAME||""),i.forEach((function(e,i){var o=e.WAITING?t.$util.hideName(e.WAITING):"",s=e.CALLING?t.$util.hideName(e.CALLING):"",c={room:e.CLINIQUE_NAME,doctor:e.DOCTOR,code:e.DEPT_CODE,wait:{number:e.WAITING_SEQ,name:o},seeing:{number:e.CALLING_SEQ,name:s}};if(n=n.concat(c),s){var r=t.chineseNumeral(c.seeing.number+""),u="请,".concat(r,"号,").concat(e.CALLING,"到,").concat(c.room,"就诊");0==t.data.length?(t.voiceData.push(u),t.voiceDataInit.push(u)):a=a.concat(u)}})),a.length>0&&(t.voiceData=t.$util.findDifferentElements(a,t.voiceDataInit),t.voiceDataInit=a),t.data=n,t.voiceData.length>0?t.voiceQueue():setTimeout((function(){t.init()}),5e3)},fail:function(e){uni.showToast({title:"请求失败",icon:"none"}),setTimeout((function(){t.init()}),5e3)}})},voiceQueue:function(){var t=this;this.voiceData[0];this.voiceData.length>1?this.onDone(this.voiceData[1]):(this.voiceData=[],setTimeout((function(){t.init()}),5e3))},onDone:function(t){var e=this,i=4300;t.length>12&&(i+=300*(t.length-12)),setTimeout((function(){e.voiceData.shift(),e.voiceData.length>0?e.voiceQueue():setTimeout((function(){e.init()}),5e3)}),i)},chineseNumeral:function(t){var e,i="",n=(0,a.default)(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;switch(o){case"0":i+="零";break;case"1":i+="一";break;case"2":i+="二";break;case"3":i+="三";break;case"4":i+="四";break;case"5":i+="五";break;case"6":i+="六";break;case"7":i+="七";break;case"8":i+="八";break;case"9":i+="九";break;default:i+=o}}}catch(s){n.e(s)}finally{n.f()}return i}}});e.default=o}}]);